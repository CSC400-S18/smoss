<html lang="en">
    <head>
        <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  		<script src="http://datatables.net/download/build/jquery.dataTables.js"></script>
    </head>

    <body>
        <h1>Moss Results</h1>
        <HR>
            [ <A HREF="http://moss.stanford.edu/general/format.html" TARGET="_top"> How to Read the Results</A> | <A HREF="http://moss.stanford.edu/general/tips.html" TARGET="_top"> Tips</A> | <A HREF="http://moss.stanford.edu/general/faq.html"> FAQ</A> | <A HREF="mailto:moss-request@cs.stanford.edu">Contact</A> | <A HREF="http://moss.stanford.edu/general/scripts.html">Submission Scripts</A> | <A HREF="http://moss.stanford.edu/general/credits.html" TARGET="_top"> Credits</A> ]
        </HR>


        <script>
            $(document).ready(function() {
                $('#example').dataTable();
            })
        </script>

        <table id="example" class ="display" border=1 cellpadding=7>
            <thead>
            <tr>
                <th>User One</th>
                <th>Percent Matched for User One</th>
                <th>User Two</th>
                <th>Percent Matched for User Two</th>
                <th>User One's Filename</th>
                <th>User Two's Filename</th>
                <th>Lines Matched</th>
                <th>URL</th>
            </tr>
            </thead>

            <tbody>
                <tr>{% for obj in value %}
                    <td>{{ obj.User1 }}</td>
                    <td>{{ obj.Match1 }}</td>
                    <td>{{ obj.User2 }}</td>
                    <td>{{ obj.Match2 }}</td>
                    <td>{{ obj.FileName1 }}</td>
                    <td>{{ obj.FileName2 }}</td>
                    <td>{{ obj.Lines_Matched }}</td>
                    <td>{{ obj.URL }}</td>
                </tr>{% endfor %}
            </tbody>
            <table id="example1" class ="display" border=1 cellpadding=7>
            <thead>
            <tr>
                <th>User</th>
                <th>Total Number of Lines Matched</th>
            </tr>
            </thead>

            <tbody>
                <tr>{% for obj in percentsValues %}
                    <td>{{ obj.getName() }}</td>
                    <td>{{ obj.getData() }}</td>
                </tr>{% endfor %}
            </tbody>
        </table>
        <table id="example2" class ="display" border=1 cellpadding=7>
            <thead>
            <tr>
                <th>User</th>
                <th>Average Highest Percent Matched</th>
            </tr>
            </thead>
        <tbody>
                <tr>{% for obj in linesValues %}
                    <td>{{ obj.getName() }}</td>
                    <td>{{ obj.getData() }}</td>
                </tr>{% endfor %}
        </tbody>
    </table>
        </table>

    <h3> MOSS Results Graph </h3>

  <style type="text/css">
    html, body {
      font: 10pt arial;
    }
    #mynetwork {
      width: 600px;
      height: 600px;
      border: 1px solid lightgray;
    }
  </style>

  <script type="text/javascript" src="../static/vis.js"></script>
  <link href="../static/vis-network.min.css" rel="stylesheet" type="text/css" />

  <script type="text/javascript">
    var nodes = null;
    var edges = null;
    var network = null;

    function draw() {
      // create people
      nodes = '{{nodes}}'
      nodes = nodes.replace(/&#39;/g, "\"")
      console.log(nodes)
      nodes = JSON.parse(nodes);

      //create edges
      edges = '{{edges}}'
      edges = edges.replace(/&#39;/g, "\"")
      edges = JSON.parse(edges);

      // value corresponds with the age of the person
      // Instantiate our network object.
      var container = document.getElementById('mynetwork');
      var data = {
        nodes: nodes,
        edges: edges
      };
      var options = {
        nodes: {
          shape: 'dot',
        }
      };
      network = new vis.Network(container, data, options);
    }
  </script>

</head>
<body onload="draw()">
<p>
  Graph of Student Nodes and Percentage Matched Edges
</p>
<div id="mynetwork"></div>
    </body>
</html>